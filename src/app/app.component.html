<header class="top-nav">
  <div class="nav-container">
    <a routerLink="/" class="logo">
      <!-- Switched to standard img tag for reliability if NgOptimizedImage isn't configured for this domain -->
      <img
        src="https://th.bing.com/th/id/OIP.WDPohMC-ZRWNBbjTx8tHOwHaHa?w=169&h=180&c=7&r=0&o=7&cb=12&dpr=1.3&pid=1.7&rm=3"
        alt="CleanUp Logo" width="45" height="45">
      <span class="logo-text">CLEANUP</span>
    </a>

    <!-- Mobile Menu Backdrop -->
    <div class="nav-backdrop" [class.is-open]="isMenuOpen" (click)="isMenuOpen = false"></div>

    <div class="nav-links-container" [class.is-open]="isMenuOpen">
      <nav *ngIf="showNavLinks">
        @for(link of navLinks; track link.label) {
        <a [href]="link.path"
          (click)="link.path.startsWith('#') ? scrollToSection(link.path.substring(1)) : null; isMenuOpen = false"
          [attr.aria-label]="'Navigate to ' + link.label">{{ link.label }}</a>
        }
      </nav>
      <div class="auth-buttons">
        <button class="btn btn-primary" (click)="toggleSignUp(); isMenuOpen = false" aria-label="Open sign up form">Sign
          Up</button>
        <button class="btn btn-secondary" (click)="toggleLogin(); isMenuOpen = false" aria-label="Open login form">Log
          In</button>
      </div>
    </div>

    <button class="hamburger" (click)="toggleMenu()" [class.is-open]="isMenuOpen" aria-label="Toggle menu"
      type="button">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</header>

@if (isSignUpVisible) {
<app-signup (closeModal)="toggleSignUp()" (switchToLogin)="switchToLogin()"></app-signup>
}

@if (isLoginVisible) {
<app-login (closeModal)="toggleLogin()" (switchToSignup)="switchToSignup()"></app-login>
}

<router-outlet />